{"created": 1748475478.4309845, "duration": 0.32947635650634766, "exitcode": 1, "root": "/home/graham/workspace/experiments/marker", "environment": {}, "summary": {"failed": 1, "total": 1, "collected": 1}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": "tests/verification/test_imports.py::test_core_imports", "type": "Function", "lineno": 19}]}], "tests": [{"nodeid": "tests/verification/test_imports.py::test_core_imports", "lineno": 19, "outcome": "failed", "keywords": ["test_core_imports", "test_imports.py", "verification", "tests", "marker", ""], "setup": {"duration": 0.0001700730063021183, "outcome": "passed"}, "call": {"duration": 0.21430091699585319, "outcome": "failed", "crash": {"path": "/home/graham/workspace/experiments/marker/tests/verification/test_imports.py", "lineno": 70, "message": "AssertionError: Failed to import 2 modules\nassert 2 == 0\n +  where 2 = len([('marker.cli.main', \"cannot import name 'QAGenerator' from 'marker.core.arangodb.qa_generator' (/home/graham/workspace/experiments/marker/src/marker/core/arangodb/qa_generator.py)\"), ('marker.cli.slash_mcp_mixin', \"cannot import name 'QAGenerator' from 'marker.core.arangodb.qa_generator' (/home/graham/workspace/experiments/marker/src/marker/core/arangodb/qa_generator.py)\")])"}, "traceback": [{"path": "tests/verification/test_imports.py", "lineno": 70, "message": "AssertionError"}], "stdout": "\ud83d\udcda Loaded 4 modules from registry\n\u2705 Updated module: table_analyzer\n\u2705 Updated module: image_describer\n\u2705 Updated module: structure_analyzer\n\u2705 Updated module: content_validator\n\nImport Test Results:\nDuration: 0.214 seconds\nSuccessful imports: 16\nFailed imports: 2\n\nFailed imports:\n  - marker.cli.main: cannot import name 'QAGenerator' from 'marker.core.arangodb.qa_generator' (/home/graham/workspace/experiments/marker/src/marker/core/arangodb/qa_generator.py)\n  - marker.cli.slash_mcp_mixin: cannot import name 'QAGenerator' from 'marker.core.arangodb.qa_generator' (/home/graham/workspace/experiments/marker/src/marker/core/arangodb/qa_generator.py)\n", "stderr": "2025-05-28 19:37:58.246 | INFO     | marker.core.services.claude_unified:<module>:42 - claude-module-communicator loaded successfully\n2025-05-28 19:37:58.250 | INFO     | marker.core.services.claude_unified_simple:__init__:78 - Initialized UnifiedClaudeService with database at /home/graham/.marker/claude_unified.db\n2025-05-28 19:37:58.317 | INFO     | marker.core.llm_call.core.strategies:discover_strategies:116 - Discovering strategies in: /home/graham/workspace/experiments/marker/src/marker/core/llm_call/validators\n2025-05-28 19:37:58.318 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: field_presence\n2025-05-28 19:37:58.318 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: length_check\n2025-05-28 19:37:58.318 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: format_check\n2025-05-28 19:37:58.318 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: type_check\n2025-05-28 19:37:58.318 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: range_check\n2025-05-28 19:37:58.318 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: table_structure\n2025-05-28 19:37:58.318 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: table_consistency\n2025-05-28 19:37:58.318 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: image_description\n2025-05-28 19:37:58.318 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: alt_text\n2025-05-28 19:37:58.319 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: latex_syntax\n2025-05-28 19:37:58.319 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: math_consistency\n2025-05-28 19:37:58.319 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: python_syntax\n2025-05-28 19:37:58.319 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: code_language\n2025-05-28 19:37:58.319 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: code_completeness\n2025-05-28 19:37:58.319 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: citation_match\n2025-05-28 19:37:58.319 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: citation_format\n2025-05-28 19:37:58.319 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: citation_relevance\n2025-05-28 19:37:58.320 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: content_quality\n2025-05-28 19:37:58.320 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: tone_consistency\n2025-05-28 19:37:58.320 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: json_structure\n2025-05-28 19:37:58.320 | ERROR    | marker.core.llm_call.core.strategies:discover_strategies:146 - Failed to load strategies from /home/graham/workspace/experiments/marker/src/marker/core/llm_call/validators/table.py: No module named 'marker.core.llm_call.base'\n2025-05-28 19:37:58.320 | WARNING  | marker.core.llm_call.core.strategies:register:38 - Overwriting existing strategy: field_presence\n2025-05-28 19:37:58.320 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: field_presence\n2025-05-28 19:37:58.320 | WARNING  | marker.core.llm_call.core.strategies:register:38 - Overwriting existing strategy: length_check\n2025-05-28 19:37:58.320 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: length_check\n2025-05-28 19:37:58.320 | WARNING  | marker.core.llm_call.core.strategies:register:38 - Overwriting existing strategy: format_check\n2025-05-28 19:37:58.320 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: format_check\n2025-05-28 19:37:58.320 | WARNING  | marker.core.llm_call.core.strategies:register:38 - Overwriting existing strategy: type_check\n2025-05-28 19:37:58.320 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: type_check\n2025-05-28 19:37:58.321 | WARNING  | marker.core.llm_call.core.strategies:register:38 - Overwriting existing strategy: range_check\n2025-05-28 19:37:58.321 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: range_check\n2025-05-28 19:37:58.321 | WARNING  | marker.core.llm_call.core.strategies:register:38 - Overwriting existing strategy: field_presence\n2025-05-28 19:37:58.321 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: field_presence\n2025-05-28 19:37:58.321 | INFO     | marker.core.llm_call.core.strategies:discover_strategies:143 - Discovered strategy: field_presence in base.py\n2025-05-28 19:37:58.321 | WARNING  | marker.core.llm_call.core.strategies:register:38 - Overwriting existing strategy: format_check\n2025-05-28 19:37:58.321 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: format_check\n2025-05-28 19:37:58.321 | INFO     | marker.core.llm_call.core.strategies:discover_strategies:143 - Discovered strategy: format_check in base.py\n2025-05-28 19:37:58.321 | WARNING  | marker.core.llm_call.core.strategies:register:38 - Overwriting existing strategy: length_check\n2025-05-28 19:37:58.321 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: length_check\n2025-05-28 19:37:58.321 | INFO     | marker.core.llm_call.core.strategies:discover_strategies:143 - Discovered strategy: length_check in base.py\n2025-05-28 19:37:58.321 | WARNING  | marker.core.llm_call.core.strategies:register:38 - Overwriting existing strategy: range_check\n2025-05-28 19:37:58.321 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: range_check\n2025-05-28 19:37:58.321 | INFO     | marker.core.llm_call.core.strategies:discover_strategies:143 - Discovered strategy: range_check in base.py\n2025-05-28 19:37:58.321 | WARNING  | marker.core.llm_call.core.strategies:register:38 - Overwriting existing strategy: type_check\n2025-05-28 19:37:58.321 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: type_check\n2025-05-28 19:37:58.321 | INFO     | marker.core.llm_call.core.strategies:discover_strategies:143 - Discovered strategy: type_check in base.py\n2025-05-28 19:37:58.321 | WARNING  | marker.core.llm_call.core.strategies:register:38 - Overwriting existing strategy: python_syntax\n2025-05-28 19:37:58.321 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: python_syntax\n2025-05-28 19:37:58.321 | WARNING  | marker.core.llm_call.core.strategies:register:38 - Overwriting existing strategy: code_language\n2025-05-28 19:37:58.321 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: code_language\n2025-05-28 19:37:58.321 | WARNING  | marker.core.llm_call.core.strategies:register:38 - Overwriting existing strategy: code_completeness\n2025-05-28 19:37:58.321 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: code_completeness\n2025-05-28 19:37:58.321 | WARNING  | marker.core.llm_call.core.strategies:register:38 - Overwriting existing strategy: code_completeness\n2025-05-28 19:37:58.321 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: code_completeness\n2025-05-28 19:37:58.322 | INFO     | marker.core.llm_call.core.strategies:discover_strategies:143 - Discovered strategy: code_completeness in code.py\n2025-05-28 19:37:58.322 | WARNING  | marker.core.llm_call.core.strategies:register:38 - Overwriting existing strategy: code_language\n2025-05-28 19:37:58.322 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: code_language\n2025-05-28 19:37:58.322 | INFO     | marker.core.llm_call.core.strategies:discover_strategies:143 - Discovered strategy: code_language in code.py\n2025-05-28 19:37:58.322 | WARNING  | marker.core.llm_call.core.strategies:register:38 - Overwriting existing strategy: python_syntax\n2025-05-28 19:37:58.322 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: python_syntax\n2025-05-28 19:37:58.322 | INFO     | marker.core.llm_call.core.strategies:discover_strategies:143 - Discovered strategy: python_syntax in code.py\n2025-05-28 19:37:58.322 | ERROR    | marker.core.llm_call.core.strategies:discover_strategies:146 - Failed to load strategies from /home/graham/workspace/experiments/marker/src/marker/core/llm_call/validators/string_corpus.py: No module named 'marker.core.llm_call.base'\n2025-05-28 19:37:58.322 | WARNING  | marker.core.llm_call.core.strategies:register:38 - Overwriting existing strategy: citation_match\n2025-05-28 19:37:58.322 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: citation_match\n2025-05-28 19:37:58.322 | WARNING  | marker.core.llm_call.core.strategies:register:38 - Overwriting existing strategy: citation_format\n2025-05-28 19:37:58.322 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: citation_format\n2025-05-28 19:37:58.322 | WARNING  | marker.core.llm_call.core.strategies:register:38 - Overwriting existing strategy: citation_relevance\n2025-05-28 19:37:58.322 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: citation_relevance\n2025-05-28 19:37:58.322 | WARNING  | marker.core.llm_call.core.strategies:register:38 - Overwriting existing strategy: latex_syntax\n2025-05-28 19:37:58.322 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: latex_syntax\n2025-05-28 19:37:58.323 | WARNING  | marker.core.llm_call.core.strategies:register:38 - Overwriting existing strategy: math_consistency\n2025-05-28 19:37:58.323 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: math_consistency\n2025-05-28 19:37:58.323 | WARNING  | marker.core.llm_call.core.strategies:register:38 - Overwriting existing strategy: latex_syntax\n2025-05-28 19:37:58.323 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: latex_syntax\n2025-05-28 19:37:58.323 | INFO     | marker.core.llm_call.core.strategies:discover_strategies:143 - Discovered strategy: latex_syntax in math.py\n2025-05-28 19:37:58.323 | WARNING  | marker.core.llm_call.core.strategies:register:38 - Overwriting existing strategy: math_consistency\n2025-05-28 19:37:58.323 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: math_consistency\n2025-05-28 19:37:58.323 | INFO     | marker.core.llm_call.core.strategies:discover_strategies:143 - Discovered strategy: math_consistency in math.py\n2025-05-28 19:37:58.323 | WARNING  | marker.core.llm_call.core.strategies:register:38 - Overwriting existing strategy: content_quality\n2025-05-28 19:37:58.323 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: content_quality\n2025-05-28 19:37:58.323 | WARNING  | marker.core.llm_call.core.strategies:register:38 - Overwriting existing strategy: tone_consistency\n2025-05-28 19:37:58.323 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: tone_consistency\n2025-05-28 19:37:58.323 | WARNING  | marker.core.llm_call.core.strategies:register:38 - Overwriting existing strategy: json_structure\n2025-05-28 19:37:58.323 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: json_structure\n2025-05-28 19:37:58.323 | WARNING  | marker.core.llm_call.core.strategies:register:38 - Overwriting existing strategy: content_quality\n2025-05-28 19:37:58.323 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: content_quality\n2025-05-28 19:37:58.323 | INFO     | marker.core.llm_call.core.strategies:discover_strategies:143 - Discovered strategy: content_quality in general.py\n2025-05-28 19:37:58.323 | WARNING  | marker.core.llm_call.core.strategies:register:38 - Overwriting existing strategy: json_structure\n2025-05-28 19:37:58.323 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: json_structure\n2025-05-28 19:37:58.323 | INFO     | marker.core.llm_call.core.strategies:discover_strategies:143 - Discovered strategy: json_structure in general.py\n2025-05-28 19:37:58.323 | WARNING  | marker.core.llm_call.core.strategies:register:38 - Overwriting existing strategy: tone_consistency\n2025-05-28 19:37:58.323 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: tone_consistency\n2025-05-28 19:37:58.323 | INFO     | marker.core.llm_call.core.strategies:discover_strategies:143 - Discovered strategy: tone_consistency in general.py\n2025-05-28 19:37:58.324 | ERROR    | marker.core.llm_call.core.strategies:discover_strategies:146 - Failed to load strategies from /home/graham/workspace/experiments/marker/src/marker/core/llm_call/validators/value.py: No module named 'marker.core.llm_call.base'\n2025-05-28 19:37:58.324 | WARNING  | marker.core.llm_call.core.strategies:register:38 - Overwriting existing strategy: image_description\n2025-05-28 19:37:58.324 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: image_description\n2025-05-28 19:37:58.324 | WARNING  | marker.core.llm_call.core.strategies:register:38 - Overwriting existing strategy: alt_text\n2025-05-28 19:37:58.324 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: alt_text\n2025-05-28 19:37:58.324 | WARNING  | marker.core.llm_call.core.strategies:register:38 - Overwriting existing strategy: alt_text\n2025-05-28 19:37:58.324 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: alt_text\n2025-05-28 19:37:58.324 | INFO     | marker.core.llm_call.core.strategies:discover_strategies:143 - Discovered strategy: alt_text in image.py\n2025-05-28 19:37:58.324 | WARNING  | marker.core.llm_call.core.strategies:register:38 - Overwriting existing strategy: image_description\n2025-05-28 19:37:58.324 | DEBUG    | marker.core.llm_call.core.strategies:register:47 - Registered strategy: image_description\n2025-05-28 19:37:58.324 | INFO     | marker.core.llm_call.core.strategies:discover_strategies:143 - Discovered strategy: image_description in image.py\n2025-05-28 19:37:58.326 | WARNING  | marker.core.arangodb.pipeline:<module>:42 - pyArango not available, using requests for HTTP API\n", "longrepr": "def test_core_imports():\n        \"\"\"Test that all core modules can be imported without errors.\"\"\"\n        start_time = time.time()\n    \n        # List of core modules to test\n        core_modules = [\n            \"marker.cli.main\",\n            \"marker.cli.slash_mcp_mixin\",\n            \"marker.core.logger\",\n            \"marker.core.models\",\n            \"marker.core.output\",\n            \"marker.core.settings\",\n            \"marker.core.util\",\n            \"marker.core.arangodb.cli\",\n            \"marker.core.arangodb.importers\",\n            \"marker.core.arangodb.pipeline\",\n            \"marker.core.builders.document\",\n            \"marker.core.config.parser\",\n            \"marker.core.converters.pdf\",\n            \"marker.core.processors.table\",\n            \"marker.core.renderers.json\",\n            \"marker.core.schema.document\",\n            \"marker.core.services.claude\",\n            \"marker.mcp.server\",\n        ]\n    \n        failed_imports = []\n        successful_imports = []\n    \n        for module_name in core_modules:\n            try:\n                importlib.import_module(module_name)\n                successful_imports.append(module_name)\n            except ImportError as e:\n                failed_imports.append((module_name, str(e)))\n    \n        duration = time.time() - start_time\n    \n        # Report results\n        print(f\"\\nImport Test Results:\")\n        print(f\"Duration: {duration:.3f} seconds\")\n        print(f\"Successful imports: {len(successful_imports)}\")\n        print(f\"Failed imports: {len(failed_imports)}\")\n    \n        if failed_imports:\n            print(\"\\nFailed imports:\")\n            for module, error in failed_imports:\n                print(f\"  - {module}: {error}\")\n    \n        # Assert all imports succeeded\n>       assert len(failed_imports) == 0, f\"Failed to import {len(failed_imports)} modules\"\nE       AssertionError: Failed to import 2 modules\nE       assert 2 == 0\nE        +  where 2 = len([('marker.cli.main', \"cannot import name 'QAGenerator' from 'marker.core.arangodb.qa_generator' (/home/graham/workspace/experiments/marker/src/marker/core/arangodb/qa_generator.py)\"), ('marker.cli.slash_mcp_mixin', \"cannot import name 'QAGenerator' from 'marker.core.arangodb.qa_generator' (/home/graham/workspace/experiments/marker/src/marker/core/arangodb/qa_generator.py)\")])\n\ntests/verification/test_imports.py:70: AssertionError"}, "teardown": {"duration": 0.00021821260452270508, "outcome": "passed"}}]}