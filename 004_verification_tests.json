{"created": 1748480158.649167, "duration": 144.4584035873413, "exitcode": 1, "root": "/home/graham/workspace/experiments/marker", "environment": {}, "summary": {"failed": 3, "passed": 8, "total": 11, "collected": 11}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": "tests/verification/test_imports.py", "type": "Module"}, {"nodeid": "tests/verification/test_cli_commands.py", "type": "Module"}, {"nodeid": "tests/verification/test_pdf_pipeline_real.py", "type": "Module"}]}, {"nodeid": "tests/verification/test_imports.py", "outcome": "passed", "result": [{"nodeid": "tests/verification/test_imports.py::test_core_imports", "type": "Function", "lineno": 19}, {"nodeid": "tests/verification/test_imports.py::test_no_circular_imports", "type": "Function", "lineno": 76}, {"nodeid": "tests/verification/test_imports.py::test_import_fake_module", "type": "Function", "lineno": 126}]}, {"nodeid": "tests/verification/test_cli_commands.py", "outcome": "passed", "result": [{"nodeid": "tests/verification/test_cli_commands.py::test_marker_cli_help", "type": "Function", "lineno": 20}, {"nodeid": "tests/verification/test_cli_commands.py::test_slash_command_registry", "type": "Function", "lineno": 51}, {"nodeid": "tests/verification/test_cli_commands.py::test_mcp_server_config", "type": "Function", "lineno": 88}, {"nodeid": "tests/verification/test_cli_commands.py::test_invalid_cli_command", "type": "Function", "lineno": 140}, {"nodeid": "tests/verification/test_cli_commands.py::test_slash_command_execution", "type": "Function", "lineno": 167}]}, {"nodeid": "tests/verification/test_pdf_pipeline_real.py", "outcome": "passed", "result": [{"nodeid": "tests/verification/test_pdf_pipeline_real.py::test_pdf_conversion_real", "type": "Function", "lineno": 19}, {"nodeid": "tests/verification/test_pdf_pipeline_real.py::test_table_extraction", "type": "Function", "lineno": 111}, {"nodeid": "tests/verification/test_pdf_pipeline_real.py::test_renderer_outputs", "type": "Function", "lineno": 192}]}], "tests": [{"nodeid": "tests/verification/test_imports.py::test_core_imports", "lineno": 19, "outcome": "failed", "keywords": ["test_core_imports", "test_imports.py", "verification", "tests", "marker", ""], "setup": {"duration": 0.00016832305118441582, "outcome": "passed"}, "call": {"duration": 0.001468172762542963, "outcome": "failed", "crash": {"path": "/home/graham/workspace/experiments/marker/tests/verification/test_imports.py", "lineno": 73, "message": "AssertionError: Import test completed too quickly (0.001s), possibly mocked\nassert 0.0011894702911376953 > 0.1"}, "traceback": [{"path": "tests/verification/test_imports.py", "lineno": 73, "message": "AssertionError"}], "stdout": "\nImport Test Results:\nDuration: 0.001 seconds\nSuccessful imports: 18\nFailed imports: 0\n", "longrepr": "def test_core_imports():\n        \"\"\"Test that all core modules can be imported without errors.\"\"\"\n        start_time = time.time()\n    \n        # List of core modules to test\n        core_modules = [\n            \"marker.cli.main\",\n            \"marker.cli.slash_mcp_mixin\",\n            \"marker.core.logger\",\n            \"marker.core.models\",\n            \"marker.core.output\",\n            \"marker.core.settings\",\n            \"marker.core.util\",\n            \"marker.core.arangodb.cli\",\n            \"marker.core.arangodb.importers\",\n            \"marker.core.arangodb.pipeline\",\n            \"marker.core.builders.document\",\n            \"marker.core.config.parser\",\n            \"marker.core.converters.pdf\",\n            \"marker.core.processors.table\",\n            \"marker.core.renderers.json\",\n            \"marker.core.schema.document\",\n            \"marker.core.services.claude\",\n            \"marker.mcp.server\",\n        ]\n    \n        failed_imports = []\n        successful_imports = []\n    \n        for module_name in core_modules:\n            try:\n                importlib.import_module(module_name)\n                successful_imports.append(module_name)\n            except ImportError as e:\n                failed_imports.append((module_name, str(e)))\n    \n        duration = time.time() - start_time\n    \n        # Report results\n        print(f\"\\nImport Test Results:\")\n        print(f\"Duration: {duration:.3f} seconds\")\n        print(f\"Successful imports: {len(successful_imports)}\")\n        print(f\"Failed imports: {len(failed_imports)}\")\n    \n        if failed_imports:\n            print(\"\\nFailed imports:\")\n            for module, error in failed_imports:\n                print(f\"  - {module}: {error}\")\n    \n        # Assert all imports succeeded\n        assert len(failed_imports) == 0, f\"Failed to import {len(failed_imports)} modules\"\n    \n        # Ensure test took realistic time (not mocked)\n>       assert duration > 0.1, f\"Import test completed too quickly ({duration:.3f}s), possibly mocked\"\nE       AssertionError: Import test completed too quickly (0.001s), possibly mocked\nE       assert 0.0011894702911376953 > 0.1\n\ntests/verification/test_imports.py:73: AssertionError"}, "teardown": {"duration": 0.0002028532326221466, "outcome": "passed"}}, {"nodeid": "tests/verification/test_imports.py::test_no_circular_imports", "lineno": 76, "outcome": "failed", "keywords": ["test_no_circular_imports", "test_imports.py", "verification", "tests", "marker", ""], "setup": {"duration": 0.00010942202061414719, "outcome": "passed"}, "call": {"duration": 0.00013373233377933502, "outcome": "failed", "crash": {"path": "/home/graham/workspace/experiments/marker/tests/verification/test_imports.py", "lineno": 83, "message": "AttributeError: 'dict' object has no attribute '__import__'. Did you mean: '__ior__'?"}, "traceback": [{"path": "tests/verification/test_imports.py", "lineno": 83, "message": "AttributeError"}], "longrepr": "def test_no_circular_imports():\n        \"\"\"Test that there are no circular imports in the codebase.\"\"\"\n        start_time = time.time()\n    \n        # Track import order to detect circular dependencies\n        import_order = []\n>       original_import = __builtins__.__import__\nE       AttributeError: 'dict' object has no attribute '__import__'. Did you mean: '__ior__'?\n\ntests/verification/test_imports.py:83: AttributeError"}, "teardown": {"duration": 0.00011447211727499962, "outcome": "passed"}}, {"nodeid": "tests/verification/test_imports.py::test_import_fake_module", "lineno": 126, "outcome": "failed", "keywords": ["test_import_fake_module", "test_imports.py", "verification", "tests", "marker", ""], "setup": {"duration": 0.00010806228965520859, "outcome": "passed"}, "call": {"duration": 0.0003779558464884758, "outcome": "failed", "crash": {"path": "/home/graham/workspace/experiments/marker/tests/verification/test_imports.py", "lineno": 138, "message": "AssertionError: Honeypot test should have raised ImportError\nassert False"}, "traceback": [{"path": "tests/verification/test_imports.py", "lineno": 138, "message": "AssertionError"}], "stdout": "\nHoneypot test duration: 0.000 seconds\n", "longrepr": "def test_import_fake_module():\n        \"\"\"HONEYPOT: This test should always fail by trying to import a non-existent module.\"\"\"\n        start_time = time.time()\n    \n        with pytest.raises(ImportError):\n            import marker.fake_module_that_does_not_exist\n    \n        duration = time.time() - start_time\n        print(f\"\\nHoneypot test duration: {duration:.3f} seconds\")\n    \n        # This line should never be reached\n>       assert False, \"Honeypot test should have raised ImportError\"\nE       AssertionError: Honeypot test should have raised ImportError\nE       assert False\n\ntests/verification/test_imports.py:138: AssertionError"}, "teardown": {"duration": 0.00011304207146167755, "outcome": "passed"}}, {"nodeid": "tests/verification/test_cli_commands.py::test_marker_cli_help", "lineno": 20, "outcome": "passed", "keywords": ["test_marker_cli_help", "test_cli_commands.py", "verification", "tests", "marker", ""], "setup": {"duration": 0.00011162227019667625, "outcome": "passed"}, "call": {"duration": 0.0036965678445994854, "outcome": "passed", "stdout": "\u2713 CLI help command working (duration: 0.004s)\n\u2713 Help output saved to /tmp/cli_help.txt\n"}, "teardown": {"duration": 0.00011652195826172829, "outcome": "passed"}}, {"nodeid": "tests/verification/test_cli_commands.py::test_slash_command_registry", "lineno": 51, "outcome": "passed", "keywords": ["test_slash_command_registry", "test_cli_commands.py", "verification", "tests", "marker", ""], "setup": {"duration": 0.00010186107829213142, "outcome": "passed"}, "call": {"duration": 0.00017612194642424583, "outcome": "passed", "stdout": "\u2713 Slash command registry working with 7 commands\n\u2713 Registry test duration: 0.000s\n"}, "teardown": {"duration": 9.835232049226761e-05, "outcome": "passed"}}, {"nodeid": "tests/verification/test_cli_commands.py::test_mcp_server_config", "lineno": 88, "outcome": "passed", "keywords": ["test_mcp_server_config", "test_cli_commands.py", "verification", "tests", "marker", ""], "setup": {"duration": 0.00010640081018209457, "outcome": "passed"}, "call": {"duration": 2.0409912788309157, "outcome": "passed", "stdout": "\u2713 MCP server configuration valid\n\u2713 MCP test duration: 2.041s\n"}, "teardown": {"duration": 0.00016148341819643974, "outcome": "passed"}}, {"nodeid": "tests/verification/test_cli_commands.py::test_invalid_cli_command", "lineno": 140, "outcome": "passed", "keywords": ["test_invalid_cli_command", "test_cli_commands.py", "verification", "tests", "marker", ""], "setup": {"duration": 0.00010854192078113556, "outcome": "passed"}, "call": {"duration": 0.003241431899368763, "outcome": "passed", "stdout": "\u2713 Invalid command properly rejected\n"}, "teardown": {"duration": 0.00010473094880580902, "outcome": "passed"}}, {"nodeid": "tests/verification/test_cli_commands.py::test_slash_command_execution", "lineno": 167, "outcome": "passed", "keywords": ["test_slash_command_execution", "test_cli_commands.py", "verification", "tests", "marker", ""], "setup": {"duration": 0.00010143173858523369, "outcome": "passed"}, "call": {"duration": 0.003768899943679571, "outcome": "passed", "stdout": "\u2713 Slash command execution working\n\u2713 Test duration: 0.004s\n", "stderr": "2025-05-28 20:53:36.584 | ERROR    | marker.cli.main:slash:46 - Command error: Unknown command: invalid-command. Available: marker-extract, marker-db, marker-claude, marker-qa, marker-workflow, marker-test, marker-serve\n"}, "teardown": {"duration": 0.0001045609824359417, "outcome": "passed"}}, {"nodeid": "tests/verification/test_pdf_pipeline_real.py::test_pdf_conversion_real", "lineno": 19, "outcome": "passed", "keywords": ["test_pdf_conversion_real", "test_pdf_pipeline_real.py", "verification", "tests", "marker", ""], "setup": {"duration": 0.00010346109047532082, "outcome": "passed"}, "call": {"duration": 33.398340518120676, "outcome": "passed", "stdout": "\nTesting PDF conversion with: 2505.03335v2.pdf\nPDF file size: 5336895 bytes\nLoaded layout model s3://layout/2025_02_18 on device cuda with dtype torch.float16\nLoaded texify model s3://texify/2025_02_18 on device cuda with dtype torch.float16\nLoaded recognition model s3://text_recognition/2025_02_18 on device cuda with dtype torch.float16\nLoaded table recognition model s3://table_recognition/2025_02_18 on device cuda with dtype torch.float16\nLoaded detection model s3://text_detection/2025_02_28 on device cuda with dtype torch.float16\nLoaded detection model s3://inline_math_detection/2025_02_24 on device cuda with dtype torch.float16\n\u2713 Models loaded in 5.567s\n\u2713 PDF converted in 27.756s\n\u2713 Output saved to temporary file\n\nOutput statistics:\n  - Length: 237151 characters\n  - Lines: 2387\n  - Words: 32096\n\n\u2713 Total test duration: 33.368s\n", "stderr": "\rRecognizing layout:   0%|          | 0/9 [00:00<?, ?it/s]\rRecognizing layout:  11%|\u2588         | 1/9 [00:00<00:07,  1.01it/s]\rRecognizing layout:  22%|\u2588\u2588\u258f       | 2/9 [00:01<00:04,  1.56it/s]\rRecognizing layout:  33%|\u2588\u2588\u2588\u258e      | 3/9 [00:01<00:03,  1.82it/s]\rRecognizing layout:  44%|\u2588\u2588\u2588\u2588\u258d     | 4/9 [00:02<00:02,  2.12it/s]\rRecognizing layout:  56%|\u2588\u2588\u2588\u2588\u2588\u258c    | 5/9 [00:02<00:01,  2.31it/s]\rRecognizing layout:  67%|\u2588\u2588\u2588\u2588\u2588\u2588\u258b   | 6/9 [00:02<00:01,  2.46it/s]\rRecognizing layout:  78%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a  | 7/9 [00:03<00:00,  2.87it/s]\rRecognizing layout:  89%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589 | 8/9 [00:03<00:00,  2.46it/s]\rRecognizing layout: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 9/9 [00:03<00:00,  2.69it/s]\rRecognizing layout: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 9/9 [00:03<00:00,  2.28it/s]\n\rRunning OCR Error Detection:   0%|          | 0/13 [00:00<?, ?it/s]\rRunning OCR Error Detection: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 13/13 [00:00<00:00, 160.64it/s]\n\rDetecting bboxes: 0it [00:00, ?it/s]\rDetecting bboxes: 0it [00:00, ?it/s]\n2025-05-28 20:53:59.252 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:53:59.253 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 0, column 18: function_definition, falling back to traversal\n2025-05-28 20:53:59.274 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:53:59.274 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 0, column 18: function_definition, falling back to traversal\n2025-05-28 20:53:59.294 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:53:59.295 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 0, column 18: function_definition, falling back to traversal\n2025-05-28 20:53:59.316 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:53:59.317 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 0, column 18: function_definition, falling back to traversal\n2025-05-28 20:53:59.338 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:53:59.338 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 0, column 18: function_definition, falling back to traversal\n2025-05-28 20:53:59.366 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:53:59.369 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 0, column 18: function_definition, falling back to traversal\n2025-05-28 20:53:59.374 | DEBUG    | marker.core.services.utils.tree_sitter_utils:get_supported_language:209 - No language mapping for code type: sql\n2025-05-28 20:53:59.403 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:53:59.429 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:53:59.430 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 0, column 18: function_definition, falling back to traversal\n2025-05-28 20:53:59.438 | DEBUG    | marker.core.services.utils.tree_sitter_utils:get_supported_language:209 - No language mapping for code type: sql\n2025-05-28 20:53:59.477 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:53:59.503 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:53:59.504 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 0, column 18: function_definition, falling back to traversal\n2025-05-28 20:53:59.532 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:53:59.534 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 0, column 18: function_definition, falling back to traversal\n2025-05-28 20:53:59.557 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:53:59.559 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 0, column 18: function_definition, falling back to traversal\n2025-05-28 20:53:59.570 | DEBUG    | marker.core.services.utils.tree_sitter_utils:get_supported_language:209 - No language mapping for code type: sql\n2025-05-28 20:53:59.605 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:53:59.635 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:53:59.639 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 0, column 18: function_definition, falling back to traversal\n2025-05-28 20:53:59.668 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:53:59.671 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 0, column 18: function_definition, falling back to traversal\n2025-05-28 20:53:59.674 | DEBUG    | marker.core.services.utils.tree_sitter_utils:get_supported_language:209 - No language mapping for code type: sql\n2025-05-28 20:53:59.704 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:53:59.748 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:53:59.752 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 0, column 18: function_definition, falling back to traversal\n\rTexify inference:   0%|          | 0/3 [00:00<?, ?it/s]\rTexify inference:  33%|\u2588\u2588\u2588\u258e      | 1/3 [00:00<00:01,  1.35it/s]\rTexify inference:  67%|\u2588\u2588\u2588\u2588\u2588\u2588\u258b   | 2/3 [00:01<00:00,  1.08it/s]\rTexify inference: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 3/3 [00:03<00:00,  1.31s/it]\rTexify inference: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 3/3 [00:03<00:00,  1.18s/it]\n\rDetecting bboxes: 0it [00:00, ?it/s]\rDetecting bboxes: 0it [00:00, ?it/s]\n\rRecognizing tables:   0%|          | 0/2 [00:00<?, ?it/s]\rRecognizing tables:  50%|\u2588\u2588\u2588\u2588\u2588     | 1/2 [00:00<00:00,  1.31it/s]\rRecognizing tables: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 2/2 [00:01<00:00,  1.74it/s]\rRecognizing tables: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 2/2 [00:01<00:00,  1.66it/s]\n2025-05-28 20:54:07.072 | INFO     | marker.core.processors.enhanced_camelot.processor:_merge_document_tables:139 - Checking for tables to merge\n2025-05-28 20:54:07.417 | INFO     | marker.core.processors.enhanced_camelot.processor:_merge_document_tables:141 - Table merging complete\n"}, "teardown": {"duration": 0.00016901269555091858, "outcome": "passed"}}, {"nodeid": "tests/verification/test_pdf_pipeline_real.py::test_table_extraction", "lineno": 111, "outcome": "passed", "keywords": ["test_table_extraction", "test_pdf_pipeline_real.py", "verification", "tests", "marker", ""], "setup": {"duration": 0.00012283213436603546, "outcome": "passed"}, "call": {"duration": 6.066485072951764, "outcome": "passed", "stdout": "\nTesting table extraction with: Arango_AQL_Example.pdf\nLoaded layout model s3://layout/2025_02_18 on device cuda with dtype torch.float16\nLoaded texify model s3://texify/2025_02_18 on device cuda with dtype torch.float16\nLoaded recognition model s3://text_recognition/2025_02_18 on device cuda with dtype torch.float16\nLoaded table recognition model s3://table_recognition/2025_02_18 on device cuda with dtype torch.float16\nLoaded detection model s3://text_detection/2025_02_28 on device cuda with dtype torch.float16\nLoaded detection model s3://inline_math_detection/2025_02_24 on device cuda with dtype torch.float16\n\u2713 Found 1 tables in the document\n\u2713 Table extraction completed in 6.047s\n", "stderr": "\rRecognizing layout:   0%|          | 0/1 [00:00<?, ?it/s]\rRecognizing layout: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 1/1 [00:00<00:00,  3.20it/s]\rRecognizing layout: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 1/1 [00:00<00:00,  3.20it/s]\n\rRunning OCR Error Detection:   0%|          | 0/2 [00:00<?, ?it/s]\rRunning OCR Error Detection: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 2/2 [00:00<00:00, 212.32it/s]\n\rDetecting bboxes: 0it [00:00, ?it/s]\rDetecting bboxes: 0it [00:00, ?it/s]\n2025-05-28 20:54:15.764 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:54:15.765 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 0, column 18: function_definition, falling back to traversal\n2025-05-28 20:54:15.766 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 0, column 18: function_definition, falling back to traversal\n2025-05-28 20:54:15.786 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:54:15.807 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:54:15.808 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 0, column 18: function_definition, falling back to traversal\n2025-05-28 20:54:15.829 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:54:15.830 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 0, column 18: function_definition, falling back to traversal\n\rDetecting bboxes: 0it [00:00, ?it/s]\rDetecting bboxes: 0it [00:00, ?it/s]\n\rRecognizing tables:   0%|          | 0/1 [00:00<?, ?it/s]\rRecognizing tables: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 1/1 [00:00<00:00,  9.11it/s]\rRecognizing tables: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 1/1 [00:00<00:00,  9.10it/s]\n2025-05-28 20:54:15.980 | INFO     | marker.core.processors.enhanced_camelot.processor:_merge_document_tables:139 - Checking for tables to merge\n2025-05-28 20:54:15.981 | INFO     | marker.core.processors.enhanced_camelot.processor:_merge_document_tables:141 - Table merging complete\n"}, "teardown": {"duration": 0.000161781907081604, "outcome": "passed"}}, {"nodeid": "tests/verification/test_pdf_pipeline_real.py::test_renderer_outputs", "lineno": 192, "outcome": "passed", "keywords": ["test_renderer_outputs", "test_pdf_pipeline_real.py", "verification", "tests", "marker", ""], "setup": {"duration": 0.00011590216308832169, "outcome": "passed"}, "call": {"duration": 102.59606368513778, "outcome": "passed", "stdout": "\nTesting renderers with: 2505.03335v2.pdf\nLoaded layout model s3://layout/2025_02_18 on device cuda with dtype torch.float16\nLoaded texify model s3://texify/2025_02_18 on device cuda with dtype torch.float16\nLoaded recognition model s3://text_recognition/2025_02_18 on device cuda with dtype torch.float16\nLoaded table recognition model s3://table_recognition/2025_02_18 on device cuda with dtype torch.float16\nLoaded detection model s3://text_detection/2025_02_28 on device cuda with dtype torch.float16\nLoaded detection model s3://inline_math_detection/2025_02_24 on device cuda with dtype torch.float16\n\u2713 Markdown renderer working\n\u2713 JSON renderer working\n\u2713 ArangoDB renderer working\n\u2713 Renderer tests completed in 102.493s\n", "stderr": "\rRecognizing layout:   0%|          | 0/9 [00:00<?, ?it/s]\rRecognizing layout:  11%|\u2588         | 1/9 [00:00<00:05,  1.53it/s]\rRecognizing layout:  22%|\u2588\u2588\u258f       | 2/9 [00:01<00:04,  1.63it/s]\rRecognizing layout:  33%|\u2588\u2588\u2588\u258e      | 3/9 [00:01<00:03,  1.86it/s]\rRecognizing layout:  44%|\u2588\u2588\u2588\u2588\u258d     | 4/9 [00:02<00:02,  2.13it/s]\rRecognizing layout:  56%|\u2588\u2588\u2588\u2588\u2588\u258c    | 5/9 [00:02<00:01,  2.31it/s]\rRecognizing layout:  67%|\u2588\u2588\u2588\u2588\u2588\u2588\u258b   | 6/9 [00:02<00:01,  2.41it/s]\rRecognizing layout:  78%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a  | 7/9 [00:03<00:00,  2.78it/s]\rRecognizing layout:  89%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589 | 8/9 [00:03<00:00,  2.42it/s]\rRecognizing layout: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 9/9 [00:03<00:00,  2.66it/s]\rRecognizing layout: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 9/9 [00:03<00:00,  2.33it/s]\n\rRunning OCR Error Detection:   0%|          | 0/13 [00:00<?, ?it/s]\rRunning OCR Error Detection: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 13/13 [00:00<00:00, 173.32it/s]\n\rDetecting bboxes: 0it [00:00, ?it/s]\rDetecting bboxes: 0it [00:00, ?it/s]\n2025-05-28 20:54:37.912 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:54:37.912 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 0, column 18: function_definition, falling back to traversal\n2025-05-28 20:54:37.934 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:54:37.934 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 0, column 18: function_definition, falling back to traversal\n2025-05-28 20:54:37.954 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:54:37.955 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 0, column 18: function_definition, falling back to traversal\n2025-05-28 20:54:37.976 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:54:37.977 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 0, column 18: function_definition, falling back to traversal\n2025-05-28 20:54:37.998 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:54:37.999 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 0, column 18: function_definition, falling back to traversal\n2025-05-28 20:54:38.028 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:54:38.030 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 0, column 18: function_definition, falling back to traversal\n2025-05-28 20:54:38.035 | DEBUG    | marker.core.services.utils.tree_sitter_utils:get_supported_language:209 - No language mapping for code type: sql\n2025-05-28 20:54:38.064 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:54:38.091 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:54:38.092 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 0, column 18: function_definition, falling back to traversal\n2025-05-28 20:54:38.100 | DEBUG    | marker.core.services.utils.tree_sitter_utils:get_supported_language:209 - No language mapping for code type: sql\n2025-05-28 20:54:38.139 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:54:38.165 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:54:38.166 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 0, column 18: function_definition, falling back to traversal\n2025-05-28 20:54:38.195 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:54:38.197 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 0, column 18: function_definition, falling back to traversal\n2025-05-28 20:54:38.221 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:54:38.222 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 0, column 18: function_definition, falling back to traversal\n2025-05-28 20:54:38.233 | DEBUG    | marker.core.services.utils.tree_sitter_utils:get_supported_language:209 - No language mapping for code type: sql\n2025-05-28 20:54:38.269 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:54:38.300 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:54:38.304 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 0, column 18: function_definition, falling back to traversal\n2025-05-28 20:54:38.333 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:54:38.337 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 0, column 18: function_definition, falling back to traversal\n2025-05-28 20:54:38.340 | DEBUG    | marker.core.services.utils.tree_sitter_utils:get_supported_language:209 - No language mapping for code type: sql\n2025-05-28 20:54:38.370 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:54:38.414 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 1, column 28: identifier, falling back to traversal\n2025-05-28 20:54:38.418 | WARNING  | marker.core.services.utils.tree_sitter_utils:extract_code_metadata:770 - Query-based extraction failed: Invalid node type at row 0, column 18: function_definition, falling back to traversal\n\rTexify inference:   0%|          | 0/3 [00:00<?, ?it/s]\rTexify inference:  33%|\u2588\u2588\u2588\u258e      | 1/3 [00:00<00:01,  1.40it/s]\rTexify inference:  67%|\u2588\u2588\u2588\u2588\u2588\u2588\u258b   | 2/3 [00:01<00:00,  1.13it/s]\rTexify inference: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 3/3 [00:03<00:00,  1.30s/it]\rTexify inference: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 3/3 [00:03<00:00,  1.17s/it]\n\rDetecting bboxes: 0it [00:00, ?it/s]\rDetecting bboxes: 0it [00:00, ?it/s]\n\rRecognizing tables:   0%|          | 0/2 [00:00<?, ?it/s]\rRecognizing tables:  50%|\u2588\u2588\u2588\u2588\u2588     | 1/2 [00:00<00:00,  1.34it/s]\rRecognizing tables: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 2/2 [00:01<00:00,  1.89it/s]\rRecognizing tables: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 2/2 [00:01<00:00,  1.78it/s]\n2025-05-28 20:54:45.592 | INFO     | marker.core.processors.enhanced_camelot.processor:_merge_document_tables:139 - Checking for tables to merge\n2025-05-28 20:54:45.937 | INFO     | marker.core.processors.enhanced_camelot.processor:_merge_document_tables:141 - Table merging complete\n"}, "teardown": {"duration": 0.00017669284716248512, "outcome": "passed"}}]}