{"created": 1748880243.9311616, "duration": 0.13056063652038574, "exitcode": 1, "root": "/home/graham/workspace/experiments/marker", "environment": {}, "summary": {"passed": 8, "failed": 1, "total": 9, "collected": 9}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": "tests/schema/test_unified_schema.py", "type": "Module"}]}, {"nodeid": "tests/schema/test_unified_schema.py::TestUnifiedSchema", "outcome": "passed", "result": [{"nodeid": "tests/schema/test_unified_schema.py::TestUnifiedSchema::test_pdf_to_unified", "type": "Function", "lineno": 20}, {"nodeid": "tests/schema/test_unified_schema.py::TestUnifiedSchema::test_html_to_unified", "type": "Function", "lineno": 114}, {"nodeid": "tests/schema/test_unified_schema.py::TestUnifiedSchema::test_arangodb_compatibility", "type": "Function", "lineno": 214}, {"nodeid": "tests/schema/test_unified_schema.py::TestUnifiedSchema::test_invalid_schema", "type": "Function", "lineno": 263}, {"nodeid": "tests/schema/test_unified_schema.py::TestUnifiedSchema::test_excel_formula_mapping", "type": "Function", "lineno": 283}, {"nodeid": "tests/schema/test_unified_schema.py::TestUnifiedSchema::test_powerpoint_animation_mapping", "type": "Function", "lineno": 305}, {"nodeid": "tests/schema/test_unified_schema.py::TestUnifiedSchema::test_nested_structure_handling", "type": "Function", "lineno": 344}, {"nodeid": "tests/schema/test_unified_schema.py::TestUnifiedSchema::test_format_specific_metadata_preservation", "type": "Function", "lineno": 392}, {"nodeid": "tests/schema/test_unified_schema.py::TestUnifiedSchema::test_cross_format_consistency", "type": "Function", "lineno": 413}]}, {"nodeid": "tests/schema/test_unified_schema.py", "outcome": "passed", "result": [{"nodeid": "tests/schema/test_unified_schema.py::TestUnifiedSchema", "type": "Class"}]}], "tests": [{"nodeid": "tests/schema/test_unified_schema.py::TestUnifiedSchema::test_pdf_to_unified", "lineno": 20, "outcome": "passed", "keywords": ["test_pdf_to_unified", "TestUnifiedSchema", "test_unified_schema.py", "schema", "tests", "marker", ""], "setup": {"duration": 0.0003748261369764805, "outcome": "passed"}, "call": {"duration": 0.0005347100086510181, "outcome": "passed"}, "teardown": {"duration": 0.00011096103116869926, "outcome": "passed"}}, {"nodeid": "tests/schema/test_unified_schema.py::TestUnifiedSchema::test_html_to_unified", "lineno": 114, "outcome": "passed", "keywords": ["test_html_to_unified", "TestUnifiedSchema", "test_unified_schema.py", "schema", "tests", "marker", ""], "setup": {"duration": 0.00010571209713816643, "outcome": "passed"}, "call": {"duration": 0.0004456080496311188, "outcome": "passed"}, "teardown": {"duration": 0.00010229228064417839, "outcome": "passed"}}, {"nodeid": "tests/schema/test_unified_schema.py::TestUnifiedSchema::test_arangodb_compatibility", "lineno": 214, "outcome": "failed", "keywords": ["test_arangodb_compatibility", "TestUnifiedSchema", "test_unified_schema.py", "schema", "tests", "marker", ""], "setup": {"duration": 0.0001040319912135601, "outcome": "passed"}, "call": {"duration": 0.000292154960334301, "outcome": "failed", "crash": {"path": "/home/graham/workspace/experiments/marker/tests/schema/test_unified_schema.py", "lineno": 262, "message": "assert 1e-05 < 8.58306884765625e-06"}, "traceback": [{"path": "tests/schema/test_unified_schema.py", "lineno": 262, "message": "AssertionError"}], "longrepr": "self = <test_unified_schema.TestUnifiedSchema object at 0x71d55e7fcbe0>\n\n    def test_arangodb_compatibility(self):\n        \"\"\"Test schema compatibility with ArangoDB import\"\"\"\n        # Create a document with all features\n        doc = UnifiedDocument(\n            id=\"arango-test-001\",\n            source_type=SourceType.DOCX,\n            arango_key=\"doc-12345\",  # ArangoDB key\n            blocks=[\n                BaseBlock(\n                    id=\"b1\",\n                    type=BlockType.HEADING,\n                    content=\"Test Document\"\n                ),\n                BaseBlock(\n                    id=\"b2\",\n                    type=BlockType.PARAGRAPH,\n                    content=\"Content for ArangoDB\"\n                )\n            ],\n            metadata=DocumentMetadata(\n                title=\"ArangoDB Test\",\n                author=\"Test Suite\"\n            ),\n            relationships=[\n                {\"from\": \"b1\", \"to\": \"b2\", \"type\": \"contains\"}\n            ]\n        )\n    \n        # Convert to ArangoDB format\n        arango_data = doc.to_arangodb()\n    \n        # Validate ArangoDB compatibility\n        assert isinstance(arango_data, dict)\n        assert arango_data.get(\"_key\") == \"doc-12345\"\n        assert \"blocks\" in arango_data\n        assert \"metadata\" in arango_data\n        assert \"relationships\" in arango_data\n    \n        # Ensure it's JSON serializable\n        json_str = json.dumps(arango_data)\n        assert len(json_str) > 0\n    \n        # Test extraction duration (simulating DB operation)\n        import time\n        start = time.time()\n        _ = doc.to_arangodb()\n        duration = time.time() - start\n>       assert 0.00001 < duration < 2.0  # Allow up to 2s for DB operations\nE       assert 1e-05 < 8.58306884765625e-06\n\ntests/schema/test_unified_schema.py:262: AssertionError"}, "teardown": {"duration": 0.00022585410624742508, "outcome": "passed"}}, {"nodeid": "tests/schema/test_unified_schema.py::TestUnifiedSchema::test_invalid_schema", "lineno": 263, "outcome": "passed", "keywords": ["test_invalid_schema", "TestUnifiedSchema", "test_unified_schema.py", "schema", "tests", "marker", ""], "setup": {"duration": 0.00011192169040441513, "outcome": "passed"}, "call": {"duration": 0.00018710317090153694, "outcome": "passed"}, "teardown": {"duration": 0.00010154210031032562, "outcome": "passed"}}, {"nodeid": "tests/schema/test_unified_schema.py::TestUnifiedSchema::test_excel_formula_mapping", "lineno": 283, "outcome": "passed", "keywords": ["test_excel_formula_mapping", "TestUnifiedSchema", "test_unified_schema.py", "schema", "tests", "marker", ""], "setup": {"duration": 0.00010768184438347816, "outcome": "passed"}, "call": {"duration": 0.0001472029834985733, "outcome": "passed"}, "teardown": {"duration": 0.00010756216943264008, "outcome": "passed"}}, {"nodeid": "tests/schema/test_unified_schema.py::TestUnifiedSchema::test_powerpoint_animation_mapping", "lineno": 305, "outcome": "passed", "keywords": ["test_powerpoint_animation_mapping", "TestUnifiedSchema", "test_unified_schema.py", "schema", "tests", "marker", ""], "setup": {"duration": 0.00010382197797298431, "outcome": "passed"}, "call": {"duration": 0.00015074294060468674, "outcome": "passed"}, "teardown": {"duration": 9.95309092104435e-05, "outcome": "passed"}}, {"nodeid": "tests/schema/test_unified_schema.py::TestUnifiedSchema::test_nested_structure_handling", "lineno": 344, "outcome": "passed", "keywords": ["test_nested_structure_handling", "TestUnifiedSchema", "test_unified_schema.py", "schema", "tests", "marker", ""], "setup": {"duration": 0.00010498194023966789, "outcome": "passed"}, "call": {"duration": 0.00015771295875310898, "outcome": "passed"}, "teardown": {"duration": 9.9922064691782e-05, "outcome": "passed"}}, {"nodeid": "tests/schema/test_unified_schema.py::TestUnifiedSchema::test_format_specific_metadata_preservation", "lineno": 392, "outcome": "passed", "keywords": ["test_format_specific_metadata_preservation", "TestUnifiedSchema", "test_unified_schema.py", "schema", "tests", "marker", ""], "setup": {"duration": 0.0001105419360101223, "outcome": "passed"}, "call": {"duration": 0.0001257220283150673, "outcome": "passed"}, "teardown": {"duration": 0.00010092183947563171, "outcome": "passed"}}, {"nodeid": "tests/schema/test_unified_schema.py::TestUnifiedSchema::test_cross_format_consistency", "lineno": 413, "outcome": "passed", "keywords": ["test_cross_format_consistency", "TestUnifiedSchema", "test_unified_schema.py", "schema", "tests", "marker", ""], "setup": {"duration": 0.0001018117181956768, "outcome": "passed"}, "call": {"duration": 0.0002264142967760563, "outcome": "passed"}, "teardown": {"duration": 0.00010376237332820892, "outcome": "passed"}}]}